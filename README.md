# Мульти-протокольный VPN-сервер

Скрипт для установки и управления мульти-протокольным VPN-сервером с поддержкой следующих протоколов:
- VLESS + Reality
- Shadowsocks-2022
- AmneziaWG

## Особенности

- Автоматическая генерация криптографических ключей и параметров
- Поддержка Docker и Docker Compose
- Автоматическая настройка брандмауэра (UFW)
- Генерация QR-кодов для быстрой настройки клиентов
- Поддержка современных протоколов обхода блокировок

## Требования

- Ubuntu 20.04+ (или совместимая система)
- Root права
- Открытые порты: 8443 (TCP) и 51820 (UDP)

## Установка

1. Убедитесь, что у вас есть root права или права sudo
2. Склонируйте репозиторий или скачайте скрипт `setup.sh`
3. Запустите скрипт с root правами:

```bash
sudo ./setup.sh
```

Скрипт автоматически:
- Проверит и установит необходимые зависимости
- Сгенерирует криптографические ключи
- Создаст конфигурационные файлы
- Настроит брандмауэр
- Запустит VPN-сервисы
- Покажет информацию для подключения

## Повторный запуск

Если вам нужно повторно получить информацию для подключения:

```bash
sudo ./setup.sh --info
```

## Безопасность

- Все конфиденциальные данные генерируются локально
- Ключи хранятся в файле `.env` с ограниченным доступом
- Используются современные методы шифрования

## Поддерживаемые клиенты

- **VLESS + Reality**: Hiddify, v2rayNG, Shadowrocket, Qv2ray и другие
- **Shadowsocks-2022**: Shadowsocks-клиенты с поддержкой AEAD-шифрования
- **AmneziaWG**: AmneziaVPN

## Устранение неполадок

Если возникают проблемы с подключением:
1. Проверьте, что порты открыты в брандмауэре
2. Убедитесь, что службы запущены: `docker compose ps`
3. Посмотрите логи: `docker compose logs xray` и `docker compose logs amnezia-wg`

## Лицензия

MIT License - см. файл LICENSE для подробностей.